<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Fatura de Locação – Transelian</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{ --ink:#1f2937; }
    body { background:#f1f5f9; color:#111; }
    .box { border:1.5px solid var(--ink); }
    .title { background:#e5e7eb; font-weight:600; padding:4px 8px; border-top:1.5px solid var(--ink); border-bottom:1.5px solid var(--ink); }
    table.invoice { width:100%; border-collapse:collapse; }
    table.invoice th, table.invoice td{ border-left:1px solid var(--ink); border-right:1px solid var(--ink); }
    table.invoice thead tr{ border-top:1.5px solid var(--ink); border-bottom:1.5px solid var(--ink); }
    table.invoice tfoot tr{ border-top:1.5px solid var(--ink); }
    .kv label{ font-size:11px; color:#374151; display:block; }
    .kv input, .kv textarea, .kv select{ width:100%; border:1px solid #cbd5e1; border-radius:6px; padding:4px 6px; font-size:12px; }
    .kv .ro{ background:#f8fafc; }
    @media print {
      .no-print { display:none!important; }
      body { background:white; }
      .shadow-xl{ box-shadow:none; }
    }
  </style>
</head>
<body class="max-w-4xl mx-auto p-2 text-slate-800">
  <header class="no-print flex items-center justify-between mb-2">
    <div class="flex items-center gap-2">
      <select id="clientSelect" class="border rounded px-2 py-1 text-sm min-w-[200px]"></select>
      <button id="btnAddClient" class="px-2 py-1 rounded bg-indigo-600 text-white text-sm">+ Cliente</button>
      <button id="btnExportClients" class="px-2 py-1 rounded border text-sm">Exportar</button>
      <input id="importClientsFile" type="file" accept="application/json" class="hidden" />
      <button id="btnImportClients" class="px-2 py-1 rounded border text-sm">Importar</button>
    </div>
    <div class="flex gap-2">
      <button id="btnSaveCurrent" class="px-2 py-1 rounded border text-sm">Salvar</button>
      <button id="btnLoadCurrent" class="px-2 py-1 rounded border text-sm">Carregar</button>
      <button id="btnPrint" class="px-2 py-1 rounded bg-emerald-600 text-white text-sm">PDF</button>
    </div>
  </header>

  <div id="app" class="bg-white shadow-xl rounded overflow-hidden box">
    <!-- TOPO -->
    <section class="grid grid-cols-12 items-center">
      <!-- Logo + empresa -->
      <div class="col-span-9 p-1 flex gap-2 items-center">
        <img id="logoPreview" class="w-24 h-8 object-contain" alt="Logo" src="https://sttones10.github.io/notas/logo%20transelian.png"/>
        <div class="text-center w-full">
          <div class="text-[13px] font-bold">TRANSELIAN TRANSPORTES LTDA - ME</div>
          <div class="text-[11px] leading-tight">
            <div>RUA DA VILLARES, N° 248, B. SIDERURGIA – OURO BRANCO – MINAS GERAIS</div>
            <div>CEP: 36420-000 &nbsp; CNPJ: <span id="issuerDocView">07.958.145/0001-49</span> &nbsp; CONTATO: <span id="issuerContactView">(31) 9 96331518 - ALMIR</span></div>
          </div>
        </div>
      </div>
      <!-- Quadro Fatura -->
      <div class="col-span-3 p-1 box border-l-0">
        <div class="text-center text-[12px] font-semibold">FATURA<br>DE LOCAÇÃO</div>
        <div class="mt-1 text-center">
          <div class="text-[11px]">N°</div>
          <div class="text-lg font-bold" id="invNumberView">299</div>
          <div class="mt-1 text-[11px]">DATA:</div>
          <div class="text-[12px] font-semibold" id="invDateView">30/08/2025</div>
          <div class="no-print mt-1 text-[10px] flex flex-col gap-1">
            <input id="invNumber" class="border rounded p-1 text-sm" placeholder="Número"/>
            <input id="invDate" type="date" class="border rounded p-1 text-sm"/>
          </div>
        </div>
      </div>
    </section>

    <!-- DEST/CONTRATO/PAG/OBS -->
    <section class="grid grid-cols-12">
      <div class="col-span-12 box border-l-0 border-r-0">
        <div class="title">DESTINATÁRIO</div>
        <div class="p-2 grid grid-cols-12 gap-2 kv text-[11px]">
          <div class="col-span-6"><label>Razão Social</label><input id="clientName"/></div>
          <div class="col-span-3"><label>CNPJ / CPF</label><input id="clientDoc"/></div>
          <div class="col-span-2"><label>CEP</label><input id="clientCEP"/></div>
          <div class="col-span-1"><label>UF</label><input id="clientUF"/></div>
          <div class="col-span-8"><label>Endereço</label><input id="clientAddr"/></div>
          <div class="col-span-3"><label>Cidade</label><input id="clientCity"/></div>
          <div class="col-span-1"><label>Inscr. Est.</label><input id="clientIE"/></div>
        </div>
      </div>

      <div class="col-span-12 box border-l-0 border-r-0">
        <div class="title grid grid-cols-2"><span>CONTRATO</span><span class="text-right pr-2">PAGAMENTO</span></div>
        <div class="p-2 grid grid-cols-12 gap-2 kv text-[11px]">
          <div class="col-span-3"><label>Contrato</label><input id="contractNum"/></div>
          <div class="col-span-3"><label>PC</label><input id="pcNum"/></div>
          <div class="col-span-3"><label>Valor Mensal</label><input id="monthlyValue" type="number" step="0.01"/></div>
          <div class="col-span-3"><label>Vencimento</label><input id="dueDate" type="date"/></div>
          <div class="col-span-3"><label>Forma</label><input id="paymentTerms" value="DEPÓSITO BANCÁRIO"/></div>
          <div class="col-span-9"><label>Dados Bancários</label>
            <textarea id="bankData" rows="2">BANCO DO BRASIL
AGÊNCIA: 2372-8
CONTA CORRENTE: 20567-2
TRANSELIAN TRANSPORTES LTDA</textarea>
          </div>
        </div>
      </div>

      <div class="col-span-12 box border-l-0 border-r-0">
        <div class="title">OBSERVAÇÃO</div>
        <div class="p-2 kv text-[11px]">
          <textarea id="notes" rows="2">DESCONTO COMPRA DE 4 PNEUS (EDIM) SEGUNDA PARCELA : R$ 4.200,00</textarea>
        </div>
      </div>
    </section>

    <!-- DADOS DA LOCAÇÃO -->
    <section>
      <div class="title">DADOS DA LOCAÇÃO</div>
      <div class="no-print p-2 flex items-center gap-2">
        <button id="btnAddItem" class="px-2 py-1 rounded border text-sm">Adicionar item</button>
      </div>
      <div class="overflow-x-auto">
        <table class="invoice text-[11px]">
          <thead class="bg-gray-100">
            <tr>
              <th class="text-left p-2 w-24">Código</th>
              <th class="text-left p-2">Descrição / Quantidade</th>
              <th class="text-right p-2 w-32">Valor Unitário</th>
              <th class="text-right p-2 w-32">Valor Total</th>
              <th class="no-print w-20"></th>
            </tr>
          </thead>
          <tbody id="itemsBody"></tbody>
          <tfoot>
            <tr>
              <td class="p-2" colspan="2"></td>
              <td class="p-2 text-right font-semibold">Valor Total da Fatura:</td>
              <td class="p-2 text-right font-bold text-[13px]" id="totalView">R$ 0,00</td>
              <td class="no-print"></td>
            </tr>
          </tfoot>
        </table>
      </div>
    </section>

    <!-- RECIBO -->
    <section class="grid grid-cols-12">
      <div class="col-span-12 box border-l-0 border-r-0">
        <div class="p-2 text-[10px]">
          RECEBI(EMOS) DE <span class="font-semibold">EMPRESA</span>, AS LOCAÇÕES CONSTANTES NESSA FATURA INDICADA AO LADO.
        </div>
      </div>
      <div class="col-span-6 box border-l-0 border-r-0">
        <div class="p-2 grid grid-cols-12 text-[11px] gap-2">
          <div class="col-span-6">DATA DO RECEBIMENTO</div>
          <div class="col-span-6">IDENTIFICAÇÃO E ASSINATURA DO RECEBEDOR</div>
        </div>
      </div>
      <div class="col-span-6 box border-l-0 border-r-0">
        <div class="p-2 text-right text-[12px]">N°: <span id="invNumberView2">299</span></div>
      </div>
    </section>
  </div>

  <script>
    // (JS permanece igual ao anterior)
  </script>
</body>
</html>
